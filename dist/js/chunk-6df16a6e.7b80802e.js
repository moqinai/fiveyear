(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6df16a6e"],{"189a":function(e,t,a){e.exports=a.p+"img/bj1.e26ccaf0.png"},"36bd":function(e,t,a){"use strict";var n=a("4bf8"),i=a("77f1"),r=a("9def");e.exports=function(e){var t=n(this),a=r(t.length),o=arguments.length,c=i(o>1?arguments[1]:void 0,a),s=o>2?arguments[2]:void 0,d=void 0===s?a:i(s,a);while(d>c)t[c++]=e;return t}},"3dd0":function(e,t,a){"use strict";var n=a("bf28"),i=a.n(n);i.a},"6c7b":function(e,t,a){var n=a("5ca1");n(n.P,"Array",{fill:a("36bd")}),a("9c6c")("fill")},"7e0f":function(e,t,a){e.exports=a.p+"img/sy.8a5a4368.png"},"93a1":function(e,t,a){e.exports=a.p+"img/bj2.dbe9ea54.png"},bf28:function(e,t,a){},df78:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lpc-personal"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.canvasImgShow,expression:"canvasImgShow"}]},[e._m(0),e._m(1),e._m(2),e._m(3)]),a("div"),a("v-loading",{directives:[{name:"show",rawName:"v-show",value:e.dataLoading,expression:"dataLoading"}]})],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lpc-header-text"},[a("p",[e._v("恭喜您报名成功！")]),a("p",[e._v("快去请身边的朋友帮你投票吧！")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"none"}},[n("img",{staticClass:"man man-2",attrs:{src:a("7e0f"),id:"man-2",alt:""}}),n("img",{attrs:{src:a("189a"),id:"bg1",alt:""}}),n("img",{attrs:{src:a("93a1"),id:"bg2",alt:""}}),n("img",{attrs:{src:a("f3d8"),alt:"",id:"man-1"}}),n("img",{attrs:{alt:"",id:"man-1"}}),n("img",{attrs:{alt:"",id:"qrCode"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lpc-creatImg"},[a("canvas",{attrs:{id:"myCanvas"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lpc-footer-text"},[a("p",[e._v("长按保存图片至手机")])])}],r=(a("6c7b"),a("d225")),o=a("b0b4"),c=a("308d"),s=a("6bb5"),d=a("4e2b"),l=a("9ab4"),u=a("60a3"),m=a("d044"),f=a.n(m),g=a("c0e9"),h=a.n(g),v=a("70b0"),p=a.n(v),y=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(c["a"])(this,Object(s["a"])(t).apply(this,arguments)),e.schoolName="",e.studentName="",e.studentCode="",e.declaration="",e.locationHref="",e.canvasImgShow=!1,e.userId="",e.userImage="",e.qrImageHref="",e.dataLoading=!0,e}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.userId=this.$route.params.id}},{key:"mounted",value:function(){this.getVoteInfo()}},{key:"getVoteInfo",value:function(){var e=this;this.$post("/wx/rank/getUserVoteInfo",{user_event_id:this.userId}).then(function(t){if(1===t.status&&t.data instanceof Object){var a=t.data;1===a.user_type?e.studentName=a.user_name:e.studentName=a.class,e.schoolName=a.user_school_name,"其他"===e.schoolName&&(e.schoolName=""),e.declaration=a.declaration,e.studentCode=a.user_code,e.userImage=a.user_envet_pictrue,e.qrImageHref=a.code_url,e.$nextTick(function(){var t=document.getElementById("man-1");t.setAttribute("crossOrigin","anonymous"),t.src=e.userImage;var a=document.getElementById("qrCode");a.setAttribute("crossOrigin","anonymous"),a.src=e.qrImageHref,setTimeout(function(){e.createdImageFun()},3e3)})}})}},{key:"qrcode",value:function(){document.querySelector(".lpc-right-img"),new f.a("qrCode",{text:this.locationHref,width:100,height:100})}},{key:"test",value:function(){var e=this,t=document.querySelector(".lpc-content"),a=document.querySelector(".lpc-content");this.$nextTick(function(){h()(t,{width:a.offsetWidth,height:600}).then(function(t){document.querySelector(".lpc-creatImg").appendChild(t),e.canvasImgShow=!1})})}},{key:"filterI",value:function(e){return"i"!==e.tagName}},{key:"createdImageFun",value:function(){document.querySelector("body");var e=document.getElementById("man-1"),t=document.getElementById("man-2"),a=document.getElementById("bg1");""!==this.schoolName&&this.schoolName||(a=document.getElementById("bg2"));var n=document.getElementById("qrCode"),i=document.getElementById("myCanvas"),r=i.getContext("2d");new Image;i.width=375,i.height=714;var o=r.createPattern(a,"repeat");r.rect(0,0,375,714),r.fillStyle=o,r.fill(),r.drawImage(e,0,92,375,375),r.drawImage(t,189,386,175,70),r.drawImage(n,250,595,100,100);var c=this.schoolName,s=this.studentName,d="ID:"+this.studentCode,l=this.declaration;r.font=" 16px MicrosoftYaHei-Bold",r.fillStyle="#FFFFFF",r.fillText(c,127,27,80,21),r.fillStyle="#4A4A4A",r.fillText(s,20,494,121,21),r.fillStyle="#4A4A4A",r.fillText(d,270,494,121,21),r.fillStyle="#00ACF9",r.fillText(l,20,547,324,17);var u=new Image;u.src=i.toDataURL("image/png"),i.style="display: none",document.querySelector(".lpc-creatImg").appendChild(u),this.canvasImgShow=!0,this.dataLoading=!1}}]),t}(u["d"]);y=l["a"]([Object(u["a"])({components:{QRCode:f.a,domtoimage:p.a}})],y);var I=y,b=I,w=(a("3dd0"),a("2877")),_=Object(w["a"])(b,n,i,!1,null,"217d6dee",null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-6df16a6e.7b80802e.js.map